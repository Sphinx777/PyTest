/*!CK:1348477341!*//*1448378759,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["h\/Nxf"]); }

__d('GroupMentionsTypeaheadView.react',['Image.react','MentionsTypeaheadViewItem.react','React','cx','fbt','ix','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=l._("\u67e5\u7121\u7d50\u679c"),q=j.createClass({displayName:'GroupMentionsTypeaheadView',propTypes:{id:o.string,viewProps:o.object,highlightedEntry:o.object,entries:o.array.isRequired,onSelect:o.func.isRequired,onHighlight:o.func,onRenderHighlight:o.func},getInitialState:function(){return {emptyMembersHeaderID:n(),membersHeaderID:n(),nonMembersHeaderID:n()};},_renderItem:function(r,s){var t=r===this.props.highlightedEntry;return (j.createElement(i,{key:r.getUniqueID(),ariaDescribedBy:s,entry:r,highlighted:t,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_renderHashtagItem:function(r){var s=r===this.props.highlightedEntry;return (j.createElement(i,{key:r.getUniqueID(),entry:r,highlighted:s,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},_renderMembers:function(r){var s=null;if(r.length){s=r.map((function(v,w){var x=w===0?this.state.membersHeaderID:null;return this._renderItem(v,x);}).bind(this));}else s=[j.createElement('li',{className:"_2ph-",key:this.state.emptyMembersHeaderID,role:'option','aria-describedby':this.state.membersHeaderID,'aria-label':p},p)];var t=null;if(this.props.viewProps.member.aux)t=j.createElement('span',{className:"_1knr"},' \u00b7 ',this.props.viewProps.member.aux);var u=[j.createElement('li',{key:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,t)];u.push.apply(u,s);return u;},_renderNonMembers:function(r){if(!r.length)return null;var s=null;if(this.props.viewProps.nonMember.aux)s=j.createElement('span',{className:"_1knr"},' \u00b7 ',this.props.viewProps.nonMember.aux);var t=[j.createElement('li',{key:this.state.nonMembersHeaderID,className:"_1kns"},j.createElement(h,{src:m('/images/groups/secret-tag.png'),className:"_1knt"}),this.props.viewProps.nonMember.title,s)];t.push.apply(t,r.map((function(u,v){var w=v===0?this.state.nonMembersHeaderID:null;return this._renderItem(u,w);}).bind(this)));return t;},render:function(){var r=[],s=[],t=[];this.props.entries.forEach(function(x){var y=x.getAuxiliaryData(),z=y.renderType;if(z==='member'){r.push(x);}else if(z==='hashtag'){t.push(x);}else s.push(x);});var u="_5u8_"+(!r.length&&!s.length&&!t.length?' '+"_5u90":''),v=r.length===0&&s.length===0&&t.length>0,w=v?this.props.entries.map(this._renderHashtagItem):this._renderMembers(r).concat(this._renderNonMembers(s));return (j.createElement('ul',{className:u,role:'listbox',id:this.props.id},w));}});f.exports=q;},null);
__d('EntStreamGroupMall',['DOM','$','ge'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={replacePager:function(l){h.setContent(i('pagelet_group_pager'),l);},replaceFilesPager:function(l,m){h.setContent(i('group_files_pager_'+m),l);},replacePostApprovalSection:function(l){var m=j('pagelet_consolidate_posts');if(m!==null)h.setContent(m,l);}};f.exports=k;},null);
__d('GroupViewportTracking',['DOM','csx','ViewportTracking','Banzai','$'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;m=babelHelpers.inherits(o,j);n=m&&m.prototype;o.prototype.getDataFromConfig=function(p){'use strict';this.timeout=p.record_delay;};o.prototype.getTimeout=function(){'use strict';return this.timeout;};o.prototype.getAllStories=function(){'use strict';return h.scry(l('pagelet_group_mall'),"._5pat");};o.prototype.getStoryID=function(p){'use strict';var q=JSON.parse(p.getAttribute('data-ft'));return q.mf_story_key;};o.prototype.getDataToLog=function(p){'use strict';return JSON.parse(p.getAttribute('data-ft'));};o.prototype.sendDataToLog=function(p,q){'use strict';if(this.useBanzai)k.post('group_feed_tracking',q);};function o(){'use strict';m.apply(this,arguments);}f.exports.init=function(p){o.instance=new o();o.instance.init(p);};f.exports.getInstance=function(){return o.instance;};},null);
__d('ReactComposerFileAttachmentSelector.react',['ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComponentWithPureRenderMixin','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'ReactComposerFileAttachmentSelector',mixins:[j],propTypes:{label:n.string},getDefaultProps:function(){return {label:l._("\u65b0\u589e\u6a94\u6848")};},render:function(){return (k.createElement(h,{attachmentID:i.FILE,label:this.props.label,icon:m('/images/litestand/composer/icons/addfile.png')}));}});f.exports=o;},null);
__d("XReactComposerFileAttachmentBootstrapController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/file\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}});},null);
__d('ReactComposerFileLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','XReactComposerFileAttachmentBootstrapController','ActorURI','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.createClass({displayName:'ReactComposerFileLazyAttachment',mixins:[i],statics:{attachmentID:h.FILE},bootload:function(o){if(this.props.bootload){this.props.bootload(o);}else l.loadModules(["ReactComposerFileAttachment.react"],o);},getBootstrapURI:function(){return k.create(j.getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=n;},null);
__d('ReactComposerQuestionAttachmentSelector.react',['ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComponentWithPureRenderMixin','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'ReactComposerQuestionAttachmentSelector',mixins:[j],propTypes:{label:n.string},getDefaultProps:function(){return {label:l._("\u5efa\u7acb\u6295\u7968\u6d3b\u52d5")};},render:function(){return (k.createElement(h,{attachmentID:i.QUESTION,label:this.props.label,icon:m('/images/litestand/composer/icons/questions.png')}));}});f.exports=o;},null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/question\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});},null);
__d('ReactComposerQuestionLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','XReactComposerQuestionAttachmentBootstrapController','ActorURI','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=n.createClass({displayName:'ReactComposerQuestionLazyAttachment',mixins:[i],statics:{attachmentID:h.QUESTION},propTypes:{bootloader:j.isRequired},bootload:function(q){!this.props.bootloader.questionAttachment?o(0):undefined;this.props.bootloader.questionAttachment(q);},getBootstrapURI:function(){return l.create(k.getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setString('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=p;},null);
__d('ReactComposerGroupishPeopleTaggerPresenter.react',['GroupMentionsTypeaheadView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true};},null);
__d('ReactComposerGroupBootloader',['Bootloader'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={statusAttachment:function(j){h.loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerGroupPostButtonContainer.react"],j);},mediaAttachment:function(j){h.loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerGroupPostButtonContainer.react"],j);},questionAttachment:function(j){h.loadModules(["ReactComposerQuestionAttachmentContainer.react","ReactComposerGroupPostButtonContainer.react"],j);}};f.exports=i;},null);
__d('ReactGroupComposer.react',['ReactComposer.react','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerFileAttachmentSelector.react','ReactComposerFileLazyAttachment.react','ReactComposerGroupBootloader','ReactComposerLazyHeader.react','ReactComposerMediaAttachmentSelector.react','ReactComposerMediaLazyAttachment.react','ReactComposerQuestionAttachmentSelector.react','ReactComposerQuestionLazyAttachment.react','ReactComposerStatusAttachmentSelector.react','ReactComposerStatusLazyAttachment.react','Bootloader','Link.react','LitestandComposer','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da=aa.createClass({displayName:'ReactGroupComposer',mixins:[m],propTypes:{contextConfig:l.isRequired,config:k.isRequired},componentDidMount:function(){z.initComposer(this.props.contextConfig.composerID);},render:function(){var ea=this._getAttachmentComponents(),fa=ea[0],ga=ea[1],ha=this._getHeaderLink();return (aa.createElement(h,{className:"_4lmd",loggingConfig:this.props.config.loggingConfig},aa.createElement(q,{rightChild:ha},fa),aa.createElement(j,{hasMinHeight:false},ga)));},_getAttachmentComponents:function(){var ea=[],fa=[],ga=this.props.config.attachmentsConfig[i.SELL].enabled,ha=this.props.config.attachmentsConfig[i.MEDIA].showSelector,ia=this.props.config.attachmentsConfig[i.FILE].enabled,ja=this.props.config.attachmentsConfig[i.STATUS].enabled,ka=this.props.config.attachmentsConfig[i.QUESTION].enabled;if(ga){var la=this.props.config.attachmentsConfig[i.SELL],ma=la.attachmentSelector,na=la.lazyAttachment;ea.push(aa.createElement(ma,{key:'sell',label:la.attachmentSelectorLabel}));fa.push(aa.createElement(na,{config:this.props.config,key:'sell',selected:true,bootload:function(wa){return x.loadModules(["ReactComposerSellAttachmentContainer.react","ReactComposerGroupSellPostButtonContainer.react"],wa);}}));}if(ja){var oa=ca._("\u64b0\u5beb\u8cbc\u6587"),pa=this.props.config.attachmentsConfig[i.STATUS];if(ga){oa=ca._("\u958b\u59cb\u8a0e\u8ad6");}else if(pa.showShortSelectorLabel)oa=ca._("\u8cbc\u6587");ea.push(aa.createElement(v,{key:'status',label:oa}));fa.push(aa.createElement(w,{config:this.props.config,key:'status',placeholder:ca._("\u7559\u500b\u8a00\u5427......"),selected:!ga,bootloader:p}));}if(ha){var qa=this.props.config.attachmentsConfig[i.MEDIA],ra=ca._("\u65b0\u589e\u76f8\u7247\uff0f\u5f71\u7247");if(qa.showShortSelectorLabel)ra=ca._("\u76f8\u7247\/\u5f71\u7247");ea.push(aa.createElement(r,{key:'media',label:ra}));}fa.push(aa.createElement(s,{config:this.props.config,key:'media',bootloader:p}));if(ka){var sa=this.props.config.attachmentsConfig[i.QUESTION],ta=ca._("\u5efa\u7acb\u6295\u7968\u6d3b\u52d5");if(sa.showShortSelectorLabel)ta=ca._("\u6295\u7968\u6d3b\u52d5");ea.push(aa.createElement(t,{key:'question',label:ta}));fa.push(aa.createElement(u,{config:this.props.config,key:'question',bootloader:p}));}if(ia){var ua=this.props.config.attachmentsConfig[i.FILE],va=ca._("\u65b0\u589e\u6a94\u6848");if(ua.showShortSelectorLabel)va=ca._("\u6a94\u6848");ea.push(aa.createElement(n,{key:'file',label:va}));fa.push(aa.createElement(o,{config:this.props.config,key:'file',bootload:function(wa){return x.loadModules(["ReactComposerFileAttachment.react","ReactComposerGroupFilePostButtonContainer.react"],wa);}}));}return [ea,fa];},_getHeaderLink:function(){var ea=this.props.config.attachmentsConfig[i.SELL];if(ea&&ea.headerLinkConfig&&ea.headerLinkConfig.href&&ea.headerLinkConfig.label)return (aa.createElement(y,{href:ea.headerLinkConfig.href},ea.headerLinkConfig.label));return null;}});f.exports=da;},null);